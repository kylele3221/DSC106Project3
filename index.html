<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>D3 Swipe Compare (One CSV, Two Scenarios)</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="wrap">
    <div class="panel">
      <h1>Swipe Compare — Two Scenarios from One CSV</h1>

      <!-- Controls -->
      <div class="controls">
        <label>Left:
          <select id="selA"></select>
        </label>
        <label>Right:
          <select id="selB"></select>
        </label>
        <button class="btn" id="play">▶ Play</button>
        <label>Year:&nbsp;<strong id="yearLabel">—</strong></label>
        <input id="yearSlider" type="range" min="0" max="1" step="1" value="0" />
        <span class="spacer"></span>
        <label>Point size:
          <input id="ptSize" type="range" min="0.5" max="3.5" step="0.5" value="1.6" />
        </label>
        <label style="margin-left:8px;">Opacity:
          <input id="ptAlpha" type="range" min="0.1" max="1" step="0.1" value="0.85" />
        </label>
      </div>

      <!-- Map + swipe -->
      <div class="vis" id="vis">
        <div class="badge badgeA" id="labelA">Left</div>
        <div class="badge badgeB" id="labelB">Right</div>
        <div class="tooltip" id="tooltip"></div>

        <svg class="basemap" id="basemap"
             viewBox="0 0 1000 560"
             role="img" aria-label="World basemap"></svg>

        <!-- canvases injected by app.js -->
        <div class="divider" id="divider"></div>
        <div class="handle" id="handle"></div>
      </div>

      <!-- Color legend (below the map) -->
      <svg id="legendSvg" class="legendSvg"
           viewBox="0 0 220 40"
           role="img" aria-label="Color legend for precipitation"></svg>

      <!-- Timeseries below -->
      <div id="tsWrap" style="margin-top:16px; position:relative;">
        <h2 style="margin:0 0 8px 0; font-size:16px; font-weight:600;">
          Global mean precipitation
        </h2>
        <svg id="ts" class="timeseries" viewBox="0 0 1000 280"
             role="img" aria-label="Timeseries of precipitation"></svg>
        <div id="tsTip" class="tooltip" style="opacity:0; position:absolute;"></div>
      </div>
      <section id="overview" style="margin-top:32px;">
        <h2>Overview of the Development Process</h2>

        <p>
          Our development process involved first getting familiarized with our CMIP-6 dataset. This included exploring the relevant features, interpreting variables, and querying the dataset in order to lead us towards our driving question — how does the global mean precipitation change from 2015 to 2100 according to the ssp126 model (i.e., assuming the trajectory of climate change continues as it is presently without any significant intervention) versus the ssp245 model (i.e., the best-case intervention scenario). The data were filtered to include those produced by the NCAR institution's CESM2-WACCM model. This exploration and filtering part was done by all three team members. Thoroughly understanding what dataset we were dealing with and how best to communicate the most relevant aspects of it took roughly 2 hours of group effort.
        </p>

        <p>
          From there on, we identified potential visualization techniques to include in our interactive plot. Broadly, this included:
        </p>

        <ul>
          <li>Adding a map with a slider overlay to contrast the difference in mean precipitation predicted by the two ssp scenarios across separate regions of the globe (effort led by Minyoung).</li>
          <li>Dynamically updating the changes in precipitation over the map based on a timeline functionality (effort led by Kyle).</li>
          <li>Creating a selection tool that allowed visualizing the line trends according to the two scenarios in the mean precipitation at a certain region of the map (effort led by Tanisha). However, this aspect was removed from the final version of the project for the sake of simplicity and in line with the TA’s suggestions to prioritize interpretability over complexity.</li>
        </ul>

        <p>
          Since all the aforementioned aspects are interconnected in their functionality, linking them together (and performing multiple debugging iterations) to ensure that the interactive visualization worked as intended took the most time (approximately 6 hours combined).
        </p>

        <p>
          In the final stage, the finishing touches, including CSS modifications and write-ups, were discussed and implemented to make our visualization accessible and intuitive to understand for the average reader.
        </p>
      </section>
    </div>
  </div>

  <script src="https://unpkg.com/d3@7"></script>
  <script src="https://unpkg.com/topojson-client@3"></script>
  <script src="app.js"></script>
</body>
</html>
